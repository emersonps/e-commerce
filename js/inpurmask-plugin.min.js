!function(d){var c=(window.orientation!==undefined),b=navigator.userAgent.toLowerCase().indexOf("android")>-1;var a=function(f,e){if(b){return}this.$element=d(f);this.options=d.extend({},d.fn.inputmask.defaults,e);this.mask=String(e.mask);this.init();this.listen();this.checkVal()};a.prototype={init:function(){var f=this.options.definitions;var e=this.mask.length;this.tests=[];this.partialPosition=this.mask.length;this.firstNonMaskPos=null;d.each(this.mask.split(""),d.proxy(function(g,h){if(h=="?"){e--;this.partialPosition=g}else{if(f[h]){this.tests.push(new RegExp(f[h]));if(this.firstNonMaskPos===null){this.firstNonMaskPos=this.tests.length-1}}else{this.tests.push(null)}}},this));this.buffer=d.map(this.mask.split(""),d.proxy(function(h,g){if(h!="?"){return f[h]?this.options.placeholder:h}},this));this.focusText=this.$element.val();this.$element.data("rawMaskFn",d.proxy(function(){return d.map(this.buffer,function(h,g){return this.tests[g]&&h!=this.options.placeholder?h:null}).join("")},this))},listen:function(){if(this.$element.attr("readonly")){return}var e=(navigator.userAgent.match(/msie/i)?"paste":"input")+".mask";this.$element.on("unmask",d.proxy(this.unmask,this)).on("focus.mask",d.proxy(this.focusEvent,this)).on("blur.mask",d.proxy(this.blurEvent,this)).on("keydown.mask",d.proxy(this.keydownEvent,this)).on("keypress.mask",d.proxy(this.keypressEvent,this)).on(e,d.proxy(this.pasteEvent,this))},caret:function(g,e){if(this.$element.length===0){return}if(typeof g=="number"){e=(typeof e=="number")?e:g;return this.$element.each(function(){if(this.setSelectionRange){this.setSelectionRange(g,e)}else{if(this.createTextRange){var h=this.createTextRange();h.collapse(true);h.moveEnd("character",e);h.moveStart("character",g);h.select()}}})}else{if(this.$element[0].setSelectionRange){g=this.$element[0].selectionStart;e=this.$element[0].selectionEnd}else{if(document.selection&&document.selection.createRange){var f=document.selection.createRange();g=0-f.duplicate().moveStart("character",-100000);e=g+f.text.length}}return{begin:g,end:e}}},seekNext:function(f){var e=this.mask.length;while(++f<=e&&!this.tests[f]){}return f},seekPrev:function(e){while(--e>=0&&!this.tests[e]){}return e},shiftL:function(k,f){var e=this.mask.length;if(k<0){return}for(var h=k,g=this.seekNext(f);h<e;h++){if(this.tests[h]){if(g<e&&this.tests[h].test(this.buffer[g])){this.buffer[h]=this.buffer[g];this.buffer[g]=this.options.placeholder}else{break}g=this.seekNext(g)}}this.writeBuffer();this.caret(Math.max(this.firstNonMaskPos,k))},shiftR:function(l){var e=this.mask.length;for(var h=l,k=this.options.placeholder;h<e;h++){if(this.tests[h]){var f=this.seekNext(h);var g=this.buffer[h];this.buffer[h]=k;if(f<e&&this.tests[f].test(g)){k=g}else{break}}}},unmask:function(){this.$element.unbind(".mask").removeData("inputmask")},focusEvent:function(){this.focusText=this.$element.val();var e=this.mask.length;var h=this.checkVal();this.writeBuffer();var g=this;var f=function(){if(h==e){g.caret(0,h)}else{g.caret(h)}};if(navigator.userAgent.match(/msie/i)){f()}else{setTimeout(f,0)}},blurEvent:function(){this.checkVal();if(this.$element.val()!=this.focusText){this.$element.trigger("change")}},keydownEvent:function(i){var g=i.which;if(g==8||g==46||(c&&g==127)){var j=this.caret(),h=j.begin,f=j.end;if(f-h===0){h=g!=46?this.seekPrev(h):(f=this.seekNext(h-1));f=g==46?this.seekNext(f):f}this.clearBuffer(h,f);this.shiftL(h,f-1);return false}else{if(g==27){this.$element.val(this.focusText);this.caret(0,this.checkVal());return false}}},keypressEvent:function(j){var f=this.mask.length;var g=j.which,m=this.caret();if(j.ctrlKey||j.altKey||j.metaKey||g<32){return true}else{if(g){if(m.end-m.begin!==0){this.clearBuffer(m.begin,m.end);this.shiftL(m.begin,m.end-1)}var i=this.seekNext(m.begin-1);if(i<f){var l=String.fromCharCode(g);if(this.tests[i].test(l)){this.shiftR(i);this.buffer[i]=l;this.writeBuffer();var h=this.seekNext(i);this.caret(h)}}return false}}},pasteEvent:function(){var e=this;setTimeout(function(){e.caret(e.checkVal(true))},0)},clearBuffer:function(h,f){var e=this.mask.length;for(var g=h;g<f&&g<e;g++){if(this.tests[g]){this.buffer[g]=this.options.placeholder}}},writeBuffer:function(){return this.$element.val(this.buffer.join("")).val()},checkVal:function(g){var e=this.mask.length;var l=this.$element.val();var k=-1;for(var f=0,j=0;f<e;f++){if(this.tests[f]){this.buffer[f]=this.options.placeholder;while(j++<l.length){var h=l.charAt(j-1);if(this.tests[f].test(h)){this.buffer[f]=h;k=f;break}}if(j>l.length){break}}else{if(this.buffer[f]==l.charAt(j)&&f!=this.partialPosition){j++;k=f}}}if(!g&&k+1<this.partialPosition){this.$element.val("");this.clearBuffer(0,e)}else{if(g||k+1>=this.partialPosition){this.writeBuffer();if(!g){this.$element.val(this.$element.val().substring(0,k+1))}}}return(this.partialPosition?f:this.firstNonMaskPos)}};d.fn.inputmask=function(e){return this.each(function(){var g=d(this),f=g.data("inputmask");if(!f){g.data("inputmask",(f=new a(this,e)))}})};d.fn.inputmask.defaults={mask:"",placeholder:"_",definitions:{"9":"[0-9]",a:"[A-Za-z]","?":"[A-Za-z0-9]","*":"."}};d.fn.inputmask.Constructor=a;d(document).on("focus.inputmask.data-api","[data-mask]",function(g){var f=d(this);if(f.data("inputmask")){return}g.preventDefault();f.inputmask(f.data())})}(window.jQuery);